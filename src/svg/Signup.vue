<!--
 * @Author: ChillyBlaze
 * @Date: 2022-05-13 10:59:16
 * @LastEditTime: 2022-09-03 19:54:37
 * @FilePath: /front-end/src/svg/Signup.vue
 * @Description: 注册面
-->

<template>
	<Transition @enter="enter" @leave="leave" @beforeEnter="beforeEnter">
		<svg
			v-if="props.flag"
			xmlns="http://www.w3.org/2000/svg"
			xmlns:xlink="http://www.w3.org/1999/xlink"
			fill="none"
			version="1.1"
			viewBox="0 0 35.62890625 75.3359375"
		>
			<g style="mix-blend-mode: passthrough">
				<path
					id="ani-login-stroke"
					d="M16.5195,0.5L16.226599999999998,0.722656C18.0312,2.39844,20.0117,5.10547,20.6914,7.51953C24.8281,10.05078,27.6055,1.67188,16.5195,0.5Z
				M3.48828,1.085938L3.19531,1.34375C4.63672,2.69141,6.39453,4.91797,7.01562,6.89844C11.0117,9.125,13.5664,1.496094,3.48828,1.085938Z
				M0.816406,9.33594L0.5351562,9.59375C1.92969,10.8828,3.52344,13.0742,4.027340000000001,15.043C7.80078,17.4688,10.5781,9.78125,0.816406,9.33594Z
				M3.125,24.3359Q2.76172,24.3359,1.50781,24.3359L1.50781,25.0273C2.25781,25.0977,2.86719,25.2383,3.37109,25.6016C4.23828,26.1641,4.378909999999999,29.375,3.73438,33.0547C4.027340000000001,34.3789,4.84766,34.8828,5.75,34.8828C7.51953,34.8828,8.73828,33.6641,8.77344,31.9062C8.91406,28.8008,7.40234,27.5938,7.36719,25.707C7.33203,24.7695,7.625,23.3984,7.94141,22.0742C8.44531,19.9414,11.2227,10.8477,12.7344,6.04297L12.1602,5.89062C5.07031,22.0742,5.07031,22.0742,4.23828,23.5508C3.83984,24.3359,3.69922,24.3359,3.125,24.3359Z
				M10.10938,32.293L10.39062,33.3359L33.7578,33.3359C34.2969,33.3359,34.6602,33.1602,34.7656,32.7617Q33.2188,31.2969,30.6289,29.2344L28.3203,32.293L24.1836,32.293L24.1836,20.5859L32.3164,20.5859C32.8555,20.5859,33.2539,20.4102,33.3242,20.0117Q31.9297,18.6289,29.5156,16.543L27.3945,19.5781L24.1836,19.5781L24.1836,9.64062L33.2188,9.64062C33.7227,9.64062,34.1211,9.45312,34.2266,9.05469Q32.7148,7.64844,30.1953,5.57422L27.9688,8.58594L11.9492,8.58594L12.2305,9.64062L19.8594,9.64062L19.8594,19.5781L11.9844,19.5781L12.2656,20.5859L19.8594,20.5859L19.8594,32.293L10.10938,32.293Z"
				/>
				<path
					id="ani-login-fill"
					d="M8.5625,44.3555L11.7617,44.3555L11.7617,55.3359L8.52734,55.3359L8.5625,53.1914L8.5625,44.3555Z
				M0.5,55.3359L0.816406,56.3906L4.60156,56.3906C4.496090000000001,62.625,3.91016,69.1289,1.144531,74.5195L1.54297,74.8125C7.15625,69.7031,8.30469,62.5664,8.52734,56.3906L11.7617,56.3906L11.7617,68.8125C11.7617,69.3281,11.6211,69.5859,11.0469,69.5859Q10.39062,69.5859,7.40234,69.375L7.40234,69.8789C8.91406,70.207,9.64062,70.6406,10.07422,71.25C10.5078,71.8242,10.6836,72.7969,10.7891,74.0859C15.1836,73.6992,15.7578,72.1172,15.7578,69.293L15.7578,56.3906L18.5703,56.3906C18.5,62.6953,18.1016,69.2227,15.4766,74.3789L15.8984,74.6602C21.5938,69.668,22.3789,62.5781,22.5312,56.3906L26.0586,56.3906L26.0586,69.5508C26.0586,70.0781,25.9531,70.3359,25.2969,70.3359Q24.6172,70.3359,21.5234,70.1133L21.5234,70.6289C23.1055,70.9219,23.8203,71.3438,24.2891,71.9531C24.7578,72.5039,24.9453,73.5469,25.0508,74.8359C29.5508,74.4141,30.0898,72.8203,30.0898,69.9727L30.0898,56.3906L34.1914,56.3906C34.6953,56.3906,35.0586,56.2031,35.1289,55.8047Q33.9805,54.5156,31.8945,52.6172L30.0898,55.3008L30.0898,45.0352C30.8398,44.8828,31.3438,44.5664,31.6016,44.2734L27.6055,41.0156L25.6953,43.3359L23.1758,43.3359L18.5703,41.5781L18.5703,54.2227L18.5703,55.3359L15.7578,55.3359L15.7578,44.9648C16.4023,44.8125,16.9062,44.5313,17.1289,44.2383L13.2383,41.1328L11.3984,43.3359L9.17188,43.3359L4.63672,41.6133L4.63672,53.2266L4.63672,55.3359L0.5,55.3359Z
				M22.5312,44.3555L26.0586,44.3555L26.0586,55.3359L22.5312,55.3359L22.5312,54.2227L22.5312,44.3555Z"
				/>
			</g>
		</svg>
	</Transition>
</template>

<script setup lang="ts">
	import { enterFS, leaveFS } from '@/hooks/in-out'
	import gsap from 'gsap'
	const props = defineProps<{
		flag: boolean
	}>()
	function beforeEnter(el: HTMLElement) {
		let v = el.querySelector('#ani-login-stroke')!
		gsap.set(v, {
			'--stroke-width': '1',
			strokeOpacity: 1,
			fill: 'transparent',
			strokeDasharray: 343,
			strokeDashoffset: 343,
		})
		v = el.querySelector('#ani-login-fill')!
		gsap.set(v, {
			fill: 'transparent',
			strokeOpacity: 1,
			strokeDasharray: 307,
			strokeDashoffset: 307,
		})
	}
	function enter(el: Element, done: () => void) {
		let s = el.querySelector('#ani-login-stroke')!
		let f = el.querySelector('#ani-login-fill')!
		enterFS(s, f, 0, done)
	}

	function leave(el: Element, done: () => void) {
		let s = el.querySelector('#ani-login-stroke')!
		let f = el.querySelector('#ani-login-fill')!
		leaveFS(s, f, done)
	}
</script>

<style scoped lang="scss">
	@import '@/assets/mixin.scss';
	svg {
		@include pagePara;
		--stroke-width: 1px;
		stroke: var(--font-color);
		fill-rule: evenodd;
		#ani-login-fill {
			stroke-width: var(--stroke-width);
		}
		#ani-login-stroke {
			stroke-width: var(--stroke-width);
		}
	}
</style>
